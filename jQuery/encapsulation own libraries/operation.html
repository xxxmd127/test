<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<button id="btn">append</button>

	<div id="div1"></div>


	<script src="myjslib.js"></script>
	<script>
		var oBtn = getById('btn');
		oBtn.onclick = function(){
			/*var oDiv = document.createElement('div');
			oDiv.innerHTML = 'hahah';*/
			/*var oText = document.createTextNode("");
			oText.nodeValue = 'hahahahaha';
			oDiv.appendChild(oText);*/
			//document.body.appendChild("<div>xixixix</div>");
			// append(document.body, oDiv);//dom
			append(document.body, "<div><h1>hehehe</h1></div>");//string
			// append(document.body, NodeList);//NodeList
		};

		function append( parent, elem ) {
		    // Get the array of elements
		    var elems = checkElem( elem );

		    // Append them all to the element
		    for ( var i = 0; i < elems.length; i++ ) {
		        parent.appendChild( elems[i] );
		    }
		}

		function checkElem(a) {
		    var r = [];
		    // Force the argument into an array, if it isn’t already
		    if ( a.constructor != Array ) a = [ a ];//a => array
		    //a = [dom]

		    for ( var i = 0; i < a.length; i++ ) {
		        // If there’s a String
		        //a[i]="<div><h1>hehehe</h1></div>"
		        if ( a[i].constructor == String ) {
		            // Create a temporary element to house the HTML
		            var div = document.createElement("div");

		            // Inject the HTML, to convert it into a DOM structure
		            div.innerHTML = "<div><h1>hehehe</h1></div>";

		             // Extract the DOM structure back out of the temp DIV
		             for ( var j = 0; j < div.childNodes.length; j++ ){
		                 r[r.length] = div.childNodes[j];
		             }
		        } else if ( a[i].length ) { // If it’s an array
		            // Assume that it’s an array of DOM Nodes
		            for ( var j = 0; j < a[i].length; j++ )
		                r[r.length] = a[i][j];
		        } else { // Otherwise, assume it’s a DOM Node
		            r[r.length] = a[i];
		        }
		    }
		    return r;
		}

		var oDiv = getById('div1');
		oDiv.innerText = "<h1>hahahahaah</h1>";


	</script>
</body>
</html>